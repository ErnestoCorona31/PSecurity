<!DOCTYPE html>
<html>
<head>
<!-- script de A-Frane version1 1.0.0 -->
<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
<!-- script de AR.JS con soporte de marker + location -->
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
<script src="gesture-detector.js"></script>
<script src="gesture-handler.js"></script>
 <style>
    h1 {
      position: absolute;
      bottom: 30px;
      left: 40%;
      left: calc( 50% - 160px );
      margin: 0;
      font: 20px 'Voces', sans-serif;
      color: #ffff;
      text-align: center;
    }
</style>
</head>
<body style="margin : 0px; overflow: hidden;">
<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: 
mono_and_matrix; matrixCodeType: 3x3;"
renderer="logarithmicDepthBuffer: true;" vr-mode-ui="enabled: false" gesture-detector 
id="scene">
 <a-assets>
 <a-asset-item id="modelo" src="paloma.glb"></a-asset-item>
<a-asset-item id="modelo3" src="prueba__mapa__republica.glb"></a-asset-item>
<a-asset-item id="modelo4" src="calavera.glb"></a-asset-item>
<a-asset-item id="modelo8" src="fx-05_rifle_de_asalto_mexicano.glb"></a-asset-item>
<a-asset-item id="modelo9" src="anonim.glb"></a-asset-item>
<a-asset-item id="modelo12" src="hat__sombrero.glb"></a-asset-item>
<a-asset-item id="modelo13" src="homer_vs_bart_low_poly.glb"></a-asset-item>
<a-asset-item id="modelo14" src="mr_burns_walk_animated.glb"></a-asset-item>
<a-asset-item id="modelo15" src="marge_simpson_talk_animated.glb"></a-asset-item>

<audio id="sound" src="Onu.m4a" preload="auto"></audio>
<audio id="sound2" src="Presentacion.m4a" preload="auto"></audio>
<audio id="sound3" src="Inegi.m4a" preload="auto"></audio>
<audio id="sound4" src="Semaforo.m4a" preload="auto"></audio>
<audio id="sound5" src="Hacer.m4a" preload="auto"></audio>
<audio id="sound6" src="Contexto.m4a" preload="auto"></audio>
 </a-assets>
<a-marker id="cuchillo" type="barcode" value="9" raycaster="objects: .clickable" emitevents="true"
 cursor="fuse: false; rayOrigin: mouse;">
 <a-entity
 gltf-model="#modelo" scale="-0.5 -0.5 -0.5" position="0 0 0" rotation="0 0 180" class="clickable" gesture-handler soundhandler>
 </a-entity>
 </a-marker>
 <a-marker id="mapa" type="barcode" value="5" raycaster="objects: .clickable" emitevents="true"
 cursor="fuse: false; rayOrigin: mouse;">
 <a-entity
 gltf-model="#modelo3" scale="1 1 1" position=" -20 -20-20" class="clickable" gesture-handler soundhandler>
 </a-entity>
 <a-entity
 gltf-model="#modelo13" scale="-0.09 -0.09 -0.09" position="0 0 0" rotation="0 0 180" class="clickable" gesture-handler soundhandler>
 </a-entity>
 </a-marker>
 <a-marker id="calavera" type="barcode" value="7" raycaster="objects: .clickable" emitevents="true"
 cursor="fuse: false; rayOrigin: mouse;">
 <a-entity
 gltf-model="#modelo4" scale="-0.5 -0.5 -0.5" rotation="130 360 360" class="clickable" gesture-handler soundhandler animation="play">
 </a-entity>
 <a-entity
 gltf-model="#modelo15" scale="-0.5 -0.5 -0.5" position="2 2 2" rotation="0 90 180" class="clickable" gesture-handler soundhandler animation="play">
 </a-entity>
</a-marker>
<a-marker id="calaca" type="barcode" value="8" raycaster="objects: .clickable" emitevents="true"
cursor="fuse: false; rayOrigin: mouse;">
<a-entity
gltf-model="#modelo8" scale="2 2 2" position="0 0 0" rotation="0 180 0" class="clickable" gesture-handler soundhandler animation__rotate="property: rotation; dur: 29000; easing: linear; dir: normal; from: 0 0 0; to: 0 360 0; loop: true">
</a-entity>
</a-marker>
<a-marker id="jirafa" type="barcode" value="10" raycaster="objects: .clickable" emitevents="true"
cursor="fuse: false; rayOrigin: mouse;">
<a-entity
gltf-model="#modelo9" scale="2 2 2" rotation="0 0 0" class="clickable" gesture-handler soundhandler animation__rotate="property: rotation; dur: 29000; easing: linear; dir: normal; from: 0 0 0; to: 0 360 0; loop: true">
</a-entity>
</a-marker>
<a-marker id="asaltante" type="barcode" value="12" raycaster="objects: .clickable" emitevents="true"
cursor="fuse: false; rayOrigin: mouse;">
<a-entity
gltf-model="#modelo12" scale="2 2 2" rotation="0 300 0"  class="clickable" gesture-handler soundhandler></a-entity>
</a-marker>
<a-entity id="audio1" sound="src: #sound" autoplay="false"></a-entity>
<a-entity id="audio2"  sound="src: #sound2" autoplay="false"></a-entity>
<a-entity id="audio3"  sound="src: #sound3" autoplay="false"></a-entity>
<a-entity id="audio4"  sound="src: #sound4" autoplay="false"></a-entity>
<a-entity id="audio5"  sound="src: #sound5" autoplay="false"></a-entity>
<a-entity id="audio6"  sound="src: #sound6" autoplay="false"></a-entity>
 <h1>
    <a class="previousPreset" href="#"></a>
    <b>P-Security</b>
    <a class="nextPreset" href="#"></a>
  </h1>
<a-entity camera></a-entity>
<script>
    AFRAME.registerComponent('soundhandler', {
    tick: function () {
    var entity = document.querySelector('#audio1');
    var entity2 = document.querySelector('#audio2');
    var entity3= document.querySelector('#audio3');
    var entity4= document.querySelector('#audio4');
    var entity5= document.querySelector('#audio5');
    var entity6= document.querySelector('#audio6');
     
     
    if (document.querySelector('#cuchillo').object3D.visible == true) {
    entity2.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity.components.sound.playSound();
     
    } else if (document.querySelector('#mapa').object3D.visible == true) {
    entity.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity2.components.sound.playSound();

    } else if (document.querySelector('#calavera').object3D.visible == true) {
    entity.components.sound.pauseSound();
    entity2.components.sound.pauseSound();
    entity3.components.sound.playSound(); 

    }else if(document.querySelector('#calaca').object3D.visible == true){
    entity.components.sound.pauseSound();
    entity2.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity4.components.sound.playSound(); 

    }else if(document.querySelector('#jirafa').object3D.visible == true){
    entity.components.sound.pauseSound();
    entity2.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity4.components.sound.pauseSound();
    entity5.components.sound.playSound();


    }else if(document.querySelector('#asaltante').object3D.visible == true){
    entity.components.sound.pauseSound();
    entity2.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity4.components.sound.pauseSound();
    entity5.components.sound.pauseSound();
    entity6.components.sound.playSound();


    }
    else{
    entity.components.sound.pauseSound();
    entity2.components.sound.pauseSound();
    entity3.components.sound.pauseSound();
    entity4.components.sound.pauseSound();
    entity5.components.sound.pauseSound();
    entity6.components.sound.pauseSound();
     } 
    }
    });
    </script>
</a-scene>
</body>
</html>
